/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs=saveAs||function(e){"use strict";if(typeof navigator!=="undefined"&&/MSIE [1-9]\./.test(navigator.userAgent)){return}var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in r,i=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},a=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),f=e.webkitRequestFileSystem,s=e.requestFileSystem||f||e.mozRequestFileSystem,l=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},u="application/octet-stream",d=0,c=500,w=function(t){var r=function(){if(typeof t==="string"){n().revokeObjectURL(t)}else{t.remove()}};if(e.chrome){r()}else{setTimeout(r,c)}},v=function(e,t,n){t=[].concat(t);var r=t.length;while(r--){var o=e["on"+t[r]];if(typeof o==="function"){try{o.call(e,n||e)}catch(i){l(i)}}}},p=function(e){if(/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)){return new Blob(["\ufeff",e],{type:e.type})}return e},y=function(t,l,c){if(!c){t=p(t)}var y=this,m=t.type,h=false,S,b,g=function(){v(y,"writestart progress write writeend".split(" "))},O=function(){if(b&&a&&typeof FileReader!=="undefined"){var r=new FileReader;r.onloadend=function(){var e=r.result;b.location.href="data:attachment/file"+e.slice(e.search(/[,;]/));y.readyState=y.DONE;g()};r.readAsDataURL(t);y.readyState=y.INIT;return}if(h||!S){S=n().createObjectURL(t)}if(b){b.location.href=S}else{var o=e.open(S,"_blank");if(o==undefined&&a){e.location.href=S}}y.readyState=y.DONE;g();w(S)},x=function(e){return function(){if(y.readyState!==y.DONE){return e.apply(this,arguments)}}},R={create:true,exclusive:false},T;y.readyState=y.INIT;if(!l){l="download"}if(o){S=n().createObjectURL(t);r.href=S;r.download=l;setTimeout(function(){i(r);g();w(S);y.readyState=y.DONE});return}if(e.chrome&&m&&m!==u){T=t.slice||t.webkitSlice;t=T.call(t,0,t.size,u);h=true}if(f&&l!=="download"){l+=".download"}if(m===u||f){b=e}if(!s){O();return}d+=t.size;s(e.TEMPORARY,d,x(function(e){e.root.getDirectory("saved",R,x(function(e){var n=function(){e.getFile(l,R,x(function(e){e.createWriter(x(function(n){n.onwriteend=function(t){b.location.href=e.toURL();y.readyState=y.DONE;v(y,"writeend",t);w(e)};n.onerror=function(){var e=n.error;if(e.code!==e.ABORT_ERR){O()}};"writestart progress write abort".split(" ").forEach(function(e){n["on"+e]=y["on"+e]});n.write(t);y.abort=function(){n.abort();y.readyState=y.DONE};y.readyState=y.WRITING}),O)}),O)};e.getFile(l,{create:false},x(function(e){e.remove();n()}),x(function(e){if(e.code===e.NOT_FOUND_ERR){n()}else{O()}}))}),O)}),O)},m=y.prototype,h=function(e,t,n){return new y(e,t,n)};if(typeof navigator!=="undefined"&&navigator.msSaveOrOpenBlob){return function(e,t,n){if(!n){e=p(e)}return navigator.msSaveOrOpenBlob(e,t||"download")}}m.abort=function(){var e=this;e.readyState=e.DONE;v(e,"abort")};m.readyState=m.INIT=0;m.WRITING=1;m.DONE=2;m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null;return h}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content);String.prototype.endsWithAny=function(){var e=Array.prototype.slice.call(arguments),t=this.toLowerCase().toString();for(var n=0;n<e.length;n++){if(t.indexOf(e[n],t.length-e[n].length)!==-1)return true}return false};var saveTextOrBlob=saveTextOrBlob||function(e,t,n,r){t=t||"download.txt";n=n||"utf-8";e=(e||"").replace(/\r?\n/g,"\r\n");if(saveAs&&Blob){var o=new Blob([e],{type:"text/plain;charset="+n});saveAs(o,t,r);return true}else{var i=window.frames.saveTxtWindow;if(!i){i=document.createElement("iframe");i.id="saveTxtWindow";i.style.display="none";document.body.insertBefore(i,null);i=window.frames.saveTxtWindow;if(!i){i=window.open("","_temp","width=100,height=100");if(!i){window.alert("Sorry, download file could not be created.");return false}}}var a=i.document;a.open("text/plain","replace");a.charset=n;if(t.endsWithAny(".htm",".html")){a.close();a.body.innerHTML="\r\n"+e+"\r\n"}else{if(!t.endsWithAny(".txt"))t+=".txt";a.write(e);a.close()}var f=a.execCommand("SaveAs",null,t);i.close();return f}};if(typeof module!=="undefined"&&module.exports){module.exports.saveTextOrBlob=saveTextOrBlob}else if(typeof define!=="undefined"&&define!==null&&define.amd!=null){define([],function(){return saveTextOrBlob})}